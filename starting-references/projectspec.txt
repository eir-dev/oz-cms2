Perfect. Hereâ€™s a complete project spec for a single-repo React app with lite API routes, no external dependencies, and designed for deployment on Vercel. Itâ€™s a lightweight CMS tool with an approval workflow, ideal for internal use.

â¸»

ğŸ§± Project Spec â€” Lightweight CMS with Approval Workflow

Deployment: Vercel
Tech Stack: React (Frontend), Node.js (API Routes), JSON file-based storage
Auth: None (trusted internal use or basic environment-based access token)
Data Storage: Local flat files (JSON) managed via API routes
Monorepo Structure: All-in-one

â¸»

ğŸ“ Folder Structure

cms-approval-lite/
â”œâ”€â”€ public/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/              // Next.js-style or Vite + React Router
â”‚   â”‚   â”œâ”€â”€ index.tsx       // Dashboard
â”‚   â”‚   â”œâ”€â”€ content/[id].tsx
â”‚   â”‚   â”œâ”€â”€ review/index.tsx
â”‚   â”‚   â”œâ”€â”€ review/[id].tsx
â”‚   â”‚   â”œâ”€â”€ approvals/index.tsx
â”‚   â”‚   â”œâ”€â”€ history/[id].tsx
â”‚   â”‚   â””â”€â”€ settings.tsx
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ lib/                // Content utilities
â”‚   â””â”€â”€ styles/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ content/            // Lite REST-style file routes
â”‚   â”‚   â”œâ”€â”€ index.ts        // GET all, POST new
â”‚   â”‚   â””â”€â”€ [id].ts         // GET/PUT/DELETE one
â”‚   â”œâ”€â”€ review/
â”‚   â”œâ”€â”€ approvals/
â”‚   â””â”€â”€ utils/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ content.json        // Initial seed data, versioned manually
â”œâ”€â”€ vercel.json
â””â”€â”€ package.json


â¸»

âš™ï¸ App Purpose

A trusted, no-login tool that allows team members to:
	â€¢	Propose updates to static content
	â€¢	Move content through review â†’ approval â†’ publish
	â€¢	Avoid external CMS churn between dev, marketing, and design

â¸»

ğŸ§­ Pages & Responsibilities

1. / â€” Dashboard

Purpose: See all content blocks, grouped by status

Features:
	â€¢	Filters: Draft / In Review / Ready for Approval / Published
	â€¢	Search bar
	â€¢	Actions: View, Edit, Submit
	â€¢	Button: â€œNew Contentâ€

â¸»

2. /content/[id] â€” Edit Page

Purpose: View and edit the contents of one content block

Features:
	â€¢	Metadata form: Title, Slug, Page Target
	â€¢	Textarea: Markdown or JSON body
	â€¢	Save as draft or Submit for review
	â€¢	View version history

â¸»

3. /review â€” Review Queue

Purpose: List of content items awaiting review

Features:
	â€¢	Table of In Review items
	â€¢	Click to open detail view

â¸»

4. /review/[id] â€” Review Detail

Purpose: Reviewer inspects proposed content

Features:
	â€¢	Side-by-side diff: current vs proposed
	â€¢	Comment thread (local only, basic textarea)
	â€¢	Buttons: Approve â†’ Approval stage, Request Changes â†’ returns to Draft, Reject â†’ Archive

â¸»

5. /approvals â€” Approvals Page

Purpose: Final sign-off for publishing content

Features:
	â€¢	List of Ready for Approval content
	â€¢	Approve â†’ status: Published
	â€¢	Reject or Request Changes

â¸»

6. /history/[id] â€” Version History Page

Purpose: View past versions of a content block

Features:
	â€¢	Version list with timestamps
	â€¢	View diff for any two versions
	â€¢	Revert to previous

â¸»

7. /settings â€” Settings Page (Optional)

Purpose: Configuration UI

Features:
	â€¢	Edit roles (local list)
	â€¢	Status flow customization
	â€¢	Site-wide content export/import

â¸»

ğŸ”„ Content Status Flow
	â€¢	draft
	â€¢	in_review
	â€¢	ready_for_approval
	â€¢	published
	â€¢	archived (e.g. rejected)

â¸»

ğŸ“¦ API Routes

All routes read/write to data/content.json or similar JSON file on disk.

GET /api/content
	â€¢	Returns all content items

POST /api/content
	â€¢	Adds a new content item

GET /api/content/:id
	â€¢	Fetches one item

PUT /api/content/:id
	â€¢	Updates item (content, status, comments)

DELETE /api/content/:id
	â€¢	Deletes or archives item

POST /api/review/:id
	â€¢	Submits review outcome (approve/request/reject)

POST /api/approve/:id
	â€¢	Final approval and publishing

â¸»

ğŸ§  Design Philosophy
	â€¢	Flat-file JSON store (or use fs for per-item storage)
	â€¢	Local versioning (append-only logs or history[] on content)
	â€¢	No third-party auth or backend
	â€¢	Runs fully on Vercel with zero cold starts
	â€¢	Editor-friendly: minimal React setup, raw Markdown editing
	â€¢	Versioning managed through frontend and committed with local state only

â¸»

ğŸ”’ Access Control (Minimal)
	â€¢	No login, but require an internal ENV-based secret for critical actions:

if (req.headers['x-admin-secret'] !== process.env.ADMIN_SECRET) {
  return res.status(401).json({ error: 'Unauthorized' })
}



â¸»

ğŸš€ Deployment
	â€¢	Push to GitHub
	â€¢	Connect to Vercel
	â€¢	Add ADMIN_SECRET to environment variables
	â€¢	Done â€” all routes serverless, no external DB or auth

â¸»
