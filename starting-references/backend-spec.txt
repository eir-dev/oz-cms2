Cloud-Style Project Specification
(adapted from Claude’s project-spec template)

1 Problem Statement
The organisation needs a zero-maintenance service that distributes images, HTML templates, static JSON (containing feature flags) and similar artefacts to multiple consumer applications. Existing systems either require virtual-machine upkeep or lack global performance.

2 Goals
#
Goal
Success Metric
G1
Serve content globally with <100 ms median TTFB for AU, EU, US clients
Real-user monitoring (RUM) dashboard
G2
Zero routine ops work (patching, scaling, TLS renewal)
No Sev 3+ incidents attributable to the service for 12 months
G3
Git-push deployment with <60 s mean build-and-publish time
CI logs
G4
Roll back any release in ≤2 min
Verified roll-back drill
G5
Monthly cost ≤ AUD $20 at 5 GB storage / 10 M requests
Billing report


3 Non-Goals
Full CMS/editor capabilities


Real-time flag flips (static JSON acceptable)


Dynamic API back-end; only static artefacts + optional edge logic



4 Stakeholders
Product Owner: Engineering Manager (content platform)


Consumers: Mobile app team, Web front-end team, IoT firmware team


Platform Ops: DevSecOps squad (observability, IAM)



5 High-Level Solution Overview
A Cloudflare Pages project connected to our GitHub repo.
Push triggers Pages CI → builds assets.


Output stored in Pages Storage (immutable).


Files cached automatically across Cloudflare’s 300+ PoPs.


Optional Pages Functions for header rewrites or per-flag logic.


R2 bucket binding if large binaries emerge.


(See architecture diagram delivered earlier.)

6 Functional Requirements
Ref
Requirement
F1
Must accept JPEG/PNG/WebP images up to 10 MB each
F2
Must expose GET /config/flags/v1/flags.json with Cache-Control: max-age=300
F3
Build must fail if repo contains files >50 MB or missing required checksum metadata
F4
Provide per-deployment preview URL for QA
F5
Support custom domain assets.example.com with managed TLS


7 Non-Functional Requirements
Category
Requirement
Availability
99.9 % monthly (edge cache hides origin outages)
Performance
Median TTFB <100 ms, 95th <250 ms worldwide
Security
All traffic via HTTPS; origin storage not publicly listable; CI runner uses least-privilege token
Scalability
Handle 100 M requests/day without manual tuning
Observability
Ship request logs via Logpush to existing Splunk index; dashboard of key metrics
Compliance
Follow ISO 27001 controls already adopted by org (access logging, backup of repo)


8 Assumptions & Constraints
Team has an existing Cloudflare Enterprise account.


Terraform is the IaC standard.


No need for multi-region writes (read-only artefacts).


All consumers can handle 5-minute flag-propagation delay.



9 Risks & Mitigations
Risk
Impact
Likelihood
Mitigation
R1: Hard-coded client caching causes stale flags
Incorrect feature rollout
Medium
Enforce low TTL, document cache-bust procedure
R2: Repo bloat from binary uploads
Build times spike
Low
Git LFS or move large blobs to R2 bucket
R3: Sudden traffic surge (marketing campaign)
↑ Egress costs
Medium
Set billing alert at 80 % of budget


10 Open Questions
Do any consumers require signed URLs for private assets?


Should roll-backs be manual via dashboard or scripted (CLI)?


Will future phases need real-time feature flags (LaunchDarkly style)?



11 Milestones & Timeline
Date (2025)
Deliverable
Jul 04
Terraform module for Pages + custom domain merged
Jul 11
CI/CD workflow (node16, artefact lint, upload) green
Jul 18
Observability: Logpush → Splunk dashboard live
Jul 25
Load/perf test report meets NFRs
Aug 01
Production cut-over; legacy VM decommissioned


12 Acceptance Criteria (Definition of “Done”)
All Goals G1–G5 met in staging and verified in production.


Stakeholders sign-off on QA preview URL process.


Run-book published covering rollback, access-token rotation, billing alerts.



13 Future Work (Beyond MVP)
Integrate Pages Functions for edge A/B testing.


Migrate large historical media to R2 with signed URL helper.


Add Cloudflare Access to shield internal staging deployments.



Document owner: DevSecOps Lead
 Last updated: 22 Jun 2025 (Australia/Sydney)

